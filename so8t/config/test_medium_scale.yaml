# SO8T Webスクレイピング 中規模テスト用設定ファイル

# モデルA設定（テスト用）
model_a:
  base_path: "models/Borea-Phi-3.5-mini-Instruct-Jp"
  output_dir: "D:/webdataset/gguf_models/borea_phi35_mini_q8_0"
  quantization: "Q8_0"

# モデルB設定（テスト用）
model_b:
  base_model: "models/Borea-Phi-3.5-mini-Instruct-Jp"
  training_config: "configs/train_so8t_borea_qlora.yaml"
  web_scraping_data: "data/web_scraping_cleaned.jsonl"
  quadruple_thinking: true
  bayesian_optimization:
    n_trials: 20  # 中規模テスト用
    optimize_temperature: true
    optimize_hyperparameters: true
  output_dir: "D:/webdataset/gguf_models/so8t_borea_phi35_mini_q8_0"

# ベンチマーク設定（テスト用）
benchmarks:
  hf_benchmark:
    tasks: ["glue", "japanese"]
  llm_benchmark:
    test_suite: "scripts/evaluation/llm_benchmark_suite.json"

# リソースバランス設定
resource_balance:
  gpu_threshold: 0.9
  memory_threshold: 0.9
  cpu_threshold: 0.8
  auto_adjust: true

# チェックポイント設定（中規模テスト用）
checkpoint:
  interval_seconds: 180  # 3分
  max_checkpoints: 5
  save_dir: "D:/webdataset/checkpoints/test_medium_scale"

# 進捗管理設定（中規模テスト用）
progress:
  log_interval: 900  # 15分

# データソース設定（中規模テスト用: 10-50ページ/記事）
data_sources:
  enable_specialized_crawlers: true
  enable_parallel_crawler: true
  max_pages_per_source: 50  # 中規模テスト用
  
  # 4web版官報
  enable_kanpou_4web: true
  
  # e-Gov
  enable_egov: true
  
  # zenn
  enable_zenn: true
  zenn_api_enabled: false
  
  # Qiita
  enable_qiita: true
  qiita_api_enabled: false
  qiita_api_token: null
  
  # ウィキペディア日本語版
  enable_wikipedia_ja: true
  
  # 日経225企業（並列クローラー経由: 10-50社）
  enable_nikkei225: true

# クローラー設定（中規模テスト用）
crawler:
  target_samples: 500  # 中規模テスト用
  max_workers: 4  # テスト用
  max_depth: 3
  delay_per_domain: 1.0
  timeout: 15
  max_pages_per_site: 50  # 中規模テスト用
  checkpoint_interval: 180  # 3分
  max_checkpoints: 5
  language_weights:
    ja: 0.8
    en: 0.2

# 出力ディレクトリ設定（テスト用）
output_dir: "data/test_medium_scale"
checkpoint_dir: "data/test_medium_scale_checkpoints"

# Ollama設定
ollama:
  model_a_name: "borea-phi35-mini-q8_0"
  model_b_name: "so8t-borea-phi35-mini-q8_0"
  base_url: "http://localhost:11434"

