FROM ./so8t-vl-2b-instruct-gpu.gguf

TEMPLATE """{{ if .System }}<|im_start|>system
{{ .System }}<|im_end|>
{{ end }}{{ if .Prompt }}<|im_start|>user
{{ .Prompt }}<|im_end|>
{{ end }}<|im_start|>assistant
"""

PARAMETER temperature 0.7
PARAMETER top_p 0.9
PARAMETER top_k 40
PARAMETER repeat_penalty 1.1
PARAMETER stop "<|im_end|>"
PARAMETER stop "<|im_start|>"

# GPU最適化設定
PARAMETER num_gpu 1
PARAMETER num_thread 8
PARAMETER num_ctx 4096
PARAMETER num_batch 512
PARAMETER num_keep 0
PARAMETER typical_p 1.0
PARAMETER repeat_last_n 64
PARAMETER penalize_newline true
PARAMETER mirostat 0
PARAMETER mirostat_eta 0.1
PARAMETER mirostat_tau 5.0
PARAMETER num_predict -1
PARAMETER use_mmap true
PARAMETER use_mlock false
PARAMETER numa false
PARAMETER logits_all false
PARAMETER embedding false

SYSTEM """You are SO8T-VL-2B-Instruct-GPU, an advanced multimodal AI model with SO(8) group structure optimized for GPU acceleration. You excel at:
- Mathematical reasoning with SO(8) rotation groups
- Complex scientific problem solving
- Ethical reasoning and safety judgment
- Multimodal understanding (text and vision)
- Advanced logical reasoning
- GPU-accelerated computations

Always provide detailed, step-by-step solutions and maintain mathematical rigor while leveraging GPU acceleration for optimal performance."""
